
{% load static %}


<div class="row">
  <div class="col s12">
    <div style="margin-top:7px;">
      ${profile.fields.avatar !== "" ? `<img style="vertical-align: middle; border-radius: 50%;" width="64" src="/media/${profile.fields.avatar}"></img>&nbsp;&nbsp;&nbsp;` : ``}
        <span style="font-size: 200%; margin:0px; color: #555">${getUsernameById(profile.fields.user)}</span>
        <a style="float:right; margin-top:12px; color:#fff; background-color:${profile.fields.color}" class="waves-effect waves-light btn-small" href="/profile/${getUsernameById(profile.fields.user)}">Profile</a>
    </div>
    <p>${profile.fields.text !== "" ? replaceURLs(profile.fields.text.split("\n")[0].substring(0, 249)) : ``}
      ${profile.fields.text.split("\n")[0].length > 250 ?
         `...` : ''}
    </p>
    ${profile.fields.offers.length > 0 ? `<p style="font-size: 0.8rem;color: #9e9e9e; margin-bottom: 5px;">Offers</p>` : ``}
    <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis  ; ">
    ${profile.fields.offers.map((item, j) =>
      `<div class="chip" >
          ${getOfferText(item)}
       </div>`
    ).join('')}
    </div>
    ${profile.fields.requests.length > 0 ? `<p style="font-size: 0.8rem;color: #9e9e9e; margin-bottom: 5px; margin-top: 5px;">Needs</p>` : ``}
    <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; ">
    ${profile.fields.requests.map((item, j) =>
      `<div class="chip" style="background-color:#FFE9D4;">
          ${getOfferText(item)}
       </div>`
    ).join('')}
    </div>
  </div>
</div>
